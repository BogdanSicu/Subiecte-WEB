<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A simple app</title>
    
</head>
<body>
    A simple app
    <input type="text" placeholder="name" id="name" />
    <button id=del></button>
    <table id=main></table>
</body>

<script>
    const buttonDelete = document.getElementById('del')
    const myTable = document.getElementById('main')
    const myText = document.getElementById('name')

    let simpleData;

    function loadData(){
        const myData = new XMLHttpRequest();
        myData.open('GET', 'http://localhost:8080/cars')

        myData.responseType = 'json'

        myData.onload =()=>{
             simpleData = myData.response;

            for(let i=0; i< simpleData.length;i++){
                let linie = document.createElement('tr')
                for(let element in simpleData[i]){
                    let coloana = document.createElement('td')
                    coloana.innerText = simpleData[i][element]
                    linie.append(coloana)
                }
                myTable.append(linie)
            }
        }

        myData.send();
    }

    loadData();

     function deleteData(){
        myTable.innerHTML='';
        console.log(myText.value)

        for(let i=0; i< simpleData.length;i++){
            if(simpleData[i]['name'] == myText.value){
                 
            }else{
                let linie = document.createElement('tr')
                    for(let element in simpleData[i]){
                        let coloana = document.createElement('td')
                        coloana.innerText = simpleData[i][element]
                        linie.append(coloana)
                    }
                    myTable.append(linie)
                }
            }
                
    }

    buttonDelete.addEventListener('click', deleteData)
</script>

</html>